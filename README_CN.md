# 航空公司客户价值分析系统

## 项目概述

本项目使用K-Means聚类算法对航空公司客户数据进行分析，通过客户价值分析帮助航空公司识别不同类型的客户群体，从而制定针对性的营销策略和服务方案。系统通过分析客户的飞行行为、消费模式和会员特征等多维度数据，将客户划分为不同的价值群体，为航空公司的客户关系管理提供数据支持。

## 功能特点

- **数据预处理**：自动清洗和处理原始客户数据，包括删除无效数据、处理缺失值等
- **特征工程**：计算关键客户特征，如入会时间、平均每公里票价、飞行行为稳定性等
- **聚类分析**：使用K-Means算法对客户进行分群，并通过SSE（误差平方和）确定最佳聚类数量
- **可视化展示**：通过雷达图直观展示不同客户群体的特征差异
- **灵活配置**：支持调整聚类参数，尝试不同的聚类方案（K=4,5,6）

## 数据说明

项目使用的数据集`air_data.csv`包含航空公司客户的详细信息，主要字段包括：

- **MEMBER_NO**：会员号
- **FFP_DATE**：入会时间
- **FLIGHT_COUNT**：飞行次数
- **SUM_YR_1**：第一年总票价
- **SUM_YR_2**：第二年总票价
- **SEG_KM_SUM**：观测窗口总飞行公里数
- **AVG_INTERVAL**：平均乘机时间间隔
- **MAX_INTERVAL**：观察窗口内最大乘机间隔
- **avg_discount**：平均折扣率
- 其他会员基本信息（性别、年龄、工作城市等）

## 核心特征

系统选取了以下六个核心特征用于客户聚类：

1. **入会时间**：反映客户的会员历史长度
2. **飞行次数**：反映客户的活跃度
3. **平均每公里票价**：反映客户的消费水平
4. **总里程**：反映客户的飞行距离总和
5. **时间间隔差值**：反映客户飞行行为的规律性（最大间隔与平均间隔的差值）
6. **平均折扣率**：反映客户的票价敏感度

## 使用方法

### 环境要求

- Python 3.6+
- 依赖库：pandas, numpy, matplotlib, scikit-learn

### 安装依赖

```bash
pip install pandas numpy matplotlib scikit-learn
```

### 运行程序

```bash
python custom_value.py
```

### 输出结果

程序运行后将生成以下结果：

1. 数据预处理过程的信息输出
2. 不同K值（聚类数量）对应的SSE值曲线图，用于确定最佳聚类数量
3. K=4、K=5、K=6三种聚类方案的客户群体特征雷达图

## 算法说明

### K-Means聚类

K-Means是一种常用的聚类算法，通过迭代优化将数据点划分为K个簇。本项目中：

1. 首先对数据进行标准化处理（Z-score标准化）
2. 通过计算不同K值下的SSE（误差平方和），寻找最佳聚类数量
3. 使用雷达图可视化不同客户群体的特征差异

### SSE（误差平方和）

SSE是K-Means聚类算法中的重要评估指标，计算的是每个数据点到其所属聚类中心的距离的平方和。SSE越小，表示聚类效果越好。通过绘制SSE随K值变化的曲线，可以找到最佳的聚类数量（通常在曲线的"肘部"）。

## 项目结构

```
KMeans_Air_Customer/
├── custom_value.py      # 主程序代码
├── data/                # 数据目录
│   ├── air_data.csv     # 航空公司客户数据
│   └── Kmeans聚类客户价值分析.pdf  # 项目说明文档
├── README.md            # 英文说明文档
└── README_CN.md         # 中文说明文档
```

## 结果解读

通过雷达图可以直观地看出不同客户群体在六个核心特征上的差异：

- 每个雷达图代表一个客户群体
- 雷达图的每个轴代表一个特征维度
- 图形的面积大小反映了该群体在各个特征上的综合表现
- 根据不同群体的特征差异，可以制定针对性的营销策略

## 后续优化方向

1. 引入更多客户行为特征，提高聚类精度
2. 尝试其他聚类算法（如DBSCAN、层次聚类等）进行对比分析
3. 开发交互式可视化界面，提升用户体验
4. 增加客户价值预测功能，实现对客户未来价值的预测
5. 集成RFM模型（最近一次消费、消费频率、消费金额）进行更全面的客户价值评估

## 注意事项

- 本项目在Windows 11系统上设置了使用的CPU核心数量为4，以解决可能出现的"UserWarning: Could not find the number of physical cores"错误
- 数据预处理过程中删除了不合理的数据记录，如票价为零但飞行公里大于零的记录
- 雷达图的绘制使用了中文字体，请确保系统安装了SimHei字体